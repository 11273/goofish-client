---
# https://vitepress.dev/reference/default-theme-home-page
layout: home

hero:
  name: "Goofish Client"
  text: "ç°ä»£åŒ–çš„äºŒæ‰‹äº¤æ˜“å¹³å° Client"
  tagline: "TypeScript ä¼˜å…ˆï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œé«˜åº¦å¯æ‰©å±•"
  image:
    src: /phone.png
    alt: Goofish Client
  actions:
    - theme: brand
      text: å¿«é€Ÿå¼€å§‹
      link: /guide/getting-started
    - theme: alt
      text: æŸ¥çœ‹ç¤ºä¾‹
      link: /examples/home
    - theme: alt
      text: GitHub
      link: https://github.com/11273/goofish-client

features:
  - icon: ğŸš€
    title: TypeScript ä¼˜å…ˆ
    details: å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œæä¾›å“è¶Šçš„å¼€å‘ä½“éªŒå’Œç±»å‹å®‰å…¨ä¿éšœï¼Œæ”¯æŒæ™ºèƒ½æç¤ºå’Œé”™è¯¯æ£€æŸ¥

  - icon: ğŸ”
    title: åŠŸèƒ½ä¸°å¯Œ
    details: æ”¯æŒé¦–é¡µFeedã€å•†å“æœç´¢ã€ç”¨æˆ·ä¿¡æ¯è·å–ã€IM ä¼šè¯ä¸æ¶ˆæ¯ã€äºŒç»´ç ç™»å½•ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ»¡è¶³å„ç§ä¸šåŠ¡éœ€æ±‚

  - icon: ğŸ›¡ï¸
    title: ç¨³å®šå¯é 
    details: å†…ç½®é”™è¯¯å¤„ç†ã€é‡è¯•æœºåˆ¶ã€æ—¥å¿—ç³»ç»Ÿå’Œæ€§èƒ½ç›‘æ§ï¼Œç¡®ä¿ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œ

  - icon: ğŸ“–
    title: æ–‡æ¡£å®Œå–„
    details: è¯¦ç»†çš„ API æ–‡æ¡£ã€ä¸°å¯Œçš„ä½¿ç”¨ç¤ºä¾‹ã€æœ€ä½³å®è·µæŒ‡å—å’Œæ•…éšœæ’é™¤è¯´æ˜

  - icon: ğŸ”§
    title: é«˜åº¦å¯é…ç½®
    details: çµæ´»çš„é…ç½®é€‰é¡¹ï¼Œæ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨å’Œæ‰©å±•åŠŸèƒ½

  - icon: âš¡
    title: æ€§èƒ½ä¼˜åŒ–
    details: æ”¯æŒè¯·æ±‚ç¼“å­˜ã€è¿æ¥æ± ã€æ‰¹é‡æ“ä½œç­‰æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§ï¼Œæå‡åº”ç”¨æ•ˆç‡
---

:::tip é¡¹ç›®ä¿¡æ¯

<div class="status-badges">

  <h1>Goofish Client</h1>
  <p>ä¸€ä¸ªéå®˜æ–¹çš„é—²é±¼å®¢æˆ·ç«¯åº“ï¼Œæ”¯æŒå•†å“æœç´¢ç­‰åŠŸèƒ½ã€‚</p>

[![NPM Version](https://img.shields.io/npm/v/goofish-client?style=flat-square&color=blue&label=npm)](https://www.npmjs.com/package/goofish-client) [![GitHub Stars](https://img.shields.io/github/stars/11273/goofish-client?style=flat-square&color=yellow&label=stars)](https://github.com/11273/goofish-client) [![GitHub Forks](https://img.shields.io/github/forks/11273/goofish-client?style=flat-square&color=blue&label=forks)](https://github.com/11273/goofish-client) [![GitHub Issues](https://img.shields.io/github/issues/11273/goofish-client?style=flat-square&color=red&label=issues)](https://github.com/11273/goofish-client/issues) [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](https://github.com/11273/goofish-client/pulls) [![Build Status](https://img.shields.io/github/actions/workflow/status/11273/goofish-client/release.yml?style=flat-square&label=build)](https://github.com/11273/goofish-client)

[![License](https://img.shields.io/github/license/11273/goofish-client?style=flat-square&color=brightgreen&label=license)](https://github.com/11273/goofish-client/blob/main/LICENSE) [![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat-square&logo=typescript&logoColor=white)](https://github.com/11273/goofish-client) [![Node.js](https://img.shields.io/badge/Node.js%2014%2B-43853d?style=flat-square&logo=node.js&logoColor=white)](https://github.com/11273/goofish-client) [![GitHub Last Commit](https://img.shields.io/github/last-commit/11273/goofish-client?style=flat-square&color=orange&label=last%20commit)](https://github.com/11273/goofish-client) [![Bundle Size](https://flat.badgen.net/packagephobia/publish/goofish-client)](https://bundlephobia.com/package/goofish-client) [![NPM Downloads](https://img.shields.io/npm/dm/goofish-client?style=flat-square&color=green&label=downloads)](https://www.npmjs.com/package/goofish-client)

</div>
:::

<style>
.status-badges {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.status-badges img {
  display: inline-block;
}
</style>

## ğŸ¯ å¿«é€Ÿä¸Šæ‰‹

::: code-group

```bash [npm]
npm install goofish-client
```

```bash [yarn]
yarn add goofish-client
```

```bash [pnpm]
pnpm add goofish-client
```

:::

```typescript
import { Goofish, LogLevel } from "goofish-client";

// åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹
const client = new Goofish({
  cookie: "cookie2=xxxx",
  level: LogLevel.INFO,
});

// è·å–é¦–é¡µFeedæ•°æ®
const feedData = await client.api.mtop.home.getFeed({
  pageSize: 20,
  pageNumber: 1,
});

console.log(`è·å–åˆ° ${feedData.data.cardList.length} ä¸ªå•†å“`);

// æœç´¢å•†å“
const results = await client.api.mtop.search.search({
  keyword: "iPhone 14",
  pageNumber: 1,
  rowsPerPage: 20,
});

console.log(`æ‰¾åˆ° ${results.data.resultList.length} ä¸ªå•†å“`);

// è·å–å•†å“è¯¦æƒ…
const itemDetail = await client.api.mtop.item.getDetail({
  itemId: "95xxxxxxxxx334",
});

console.log(`å•†å“æ ‡é¢˜: ${itemDetail.data.itemDO.title}`);

// è·å–æ”¶è—åˆ—è¡¨
const favorList = await client.api.mtop.favor.getAllFavorItems();

console.log(`æ”¶è—å•†å“æ•°é‡: ${favorList.data.items.length}`);

// è·å–è®¢å•åˆ—è¡¨
const orderList = await client.api.mtop.order.getAllOrders();

console.log(`è®¢å•æ•°é‡: ${orderList.data.items.length}`);
```

## ğŸ“š æ ¸å¿ƒåŠŸèƒ½

### ğŸ  é¦–é¡µæ¨è

- **ä¸ªæ€§åŒ–æ¨è**ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½ Feed æ¨è
- **åˆ†é¡µåŠ è½½**ï¼šæ”¯æŒæ— é™æ»šåŠ¨å’Œåˆ†é¡µæµè§ˆ
- **å®æ—¶æ›´æ–°**ï¼šåŠ¨æ€è·å–æœ€æ–°çš„å•†å“æ¨è
- **ä¸°å¯Œæ ‡ç­¾**ï¼šå•†å“çŠ¶æ€ã€å–å®¶ä¿¡ç”¨ã€ä»·æ ¼æ ‡ç­¾ç­‰

### ğŸ” æ™ºèƒ½æœç´¢

- **å…³é”®è¯æœç´¢**ï¼šæ”¯æŒå¤åˆå…³é”®è¯å’Œæ¨¡ç³ŠåŒ¹é…
- **é«˜çº§ç­›é€‰**ï¼šä»·æ ¼åŒºé—´ã€å‘å¸ƒæ—¶é—´ã€å•†å“çŠ¶æ€ç­‰å¤šç»´åº¦ç­›é€‰
- **æ™ºèƒ½æ’åº**ï¼šæŒ‰ä»·æ ¼ã€æ—¶é—´ã€è·ç¦»ã€ä¿¡ç”¨ç­‰å¤šç§æ’åºæ–¹å¼
- **åœ°ç†ä½ç½®**ï¼šåŸºäº GPS çš„é™„è¿‘å•†å“æœç´¢

### ğŸ“¦ å•†å“è¯¦æƒ…

- **å®Œæ•´ä¿¡æ¯**ï¼šè·å–å•†å“çš„è¯¦ç»†ä¿¡æ¯å’Œå±æ€§
- **å–å®¶ä¿¡æ¯**ï¼šå–å®¶èµ„æ–™ã€ä¿¡ç”¨ç­‰çº§ã€å†å²è®°å½•
- **å›¾ç‰‡å¤„ç†**ï¼šé«˜æ¸…å›¾ç‰‡è·å–å’Œå¤šå°ºå¯¸æ”¯æŒ
- **å®æ—¶æ•°æ®**ï¼šæµè§ˆé‡ã€æ”¶è—æ•°ã€æƒ³è¦æ•°ç­‰å®æ—¶ç»Ÿè®¡

### â¤ï¸ æ”¶è—ç®¡ç†

- **æ”¶è—åˆ—è¡¨**ï¼šè·å–ç”¨æˆ·æ”¶è—çš„æ‰€æœ‰å•†å“ä¿¡æ¯
- **åˆ†ç±»ç­›é€‰**ï¼šæ”¯æŒå…¨éƒ¨ã€é™ä»·ã€æœ‰æ•ˆã€å¤±æ•ˆå®è´åˆ†ç±»
- **çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶ç›‘æ§æ”¶è—å•†å“çš„ä»·æ ¼å˜åŒ–å’ŒçŠ¶æ€
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒåˆ†é¡µåŠ è½½å’Œæ‰¹é‡æ•°æ®å¤„ç†

### ğŸ“‹ è®¢å•ç®¡ç†

- **è®¢å•åˆ—è¡¨**ï¼šè·å–ç”¨æˆ·ä¹°åˆ°çš„æ‰€æœ‰è®¢å•ä¿¡æ¯
- **çŠ¶æ€ç­›é€‰**ï¼šæ”¯æŒå…¨éƒ¨ã€å¾…ä»˜æ¬¾ã€å¾…å‘è´§ã€å¾…æ”¶è´§ã€å¾…è¯„ä»·ã€é€€æ¬¾ä¸­ç­‰çŠ¶æ€åˆ†ç±»
- **è¯¦ç»†ä¿¡æ¯**ï¼šå•†å“è¯¦æƒ…ã€å–å®¶ä¿¡æ¯ã€ä»·æ ¼ã€æ•°é‡ã€ç‰©æµç­‰å®Œæ•´è®¢å•æ•°æ®
- **æ“ä½œæ”¯æŒ**ï¼šæŸ¥çœ‹å¯ç”¨æ“ä½œï¼ˆä»˜æ¬¾ã€ç¡®è®¤æ”¶è´§ã€ç”³è¯·é€€æ¬¾ç­‰ï¼‰

### ğŸ” èº«ä»½è®¤è¯

- **Cookie è®¤è¯**ï¼šæ”¯æŒç°æœ‰ Cookie å¿«é€Ÿè®¤è¯
- **äºŒç»´ç ç™»å½•**ï¼šå®Œæ•´çš„æ‰«ç ç™»å½•æµç¨‹
- **ä¼šè¯ç®¡ç†**ï¼šè‡ªåŠ¨ Cookie æ›´æ–°å’ŒçŠ¶æ€ç›‘æ§
- **å®‰å…¨å­˜å‚¨**ï¼šCookie å®‰å…¨å­˜å‚¨å’ŒåŠ å¯†ä¼ è¾“

### ğŸ‘¤ ç”¨æˆ·ç®¡ç†

- **ç”¨æˆ·ä¿¡æ¯**ï¼šè·å–ç”¨æˆ·åŸºæœ¬èµ„æ–™å’ŒçŠ¶æ€
- **å¯¼èˆªæ•°æ®**ï¼šç”¨æˆ·å¯¼èˆªå’Œèœå•ä¿¡æ¯
- **çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ç™»å½•çŠ¶æ€å’Œä¼šè¯æœ‰æ•ˆæ€§

### ğŸ’¬ IM å³æ—¶é€šè®¯

- **IM Token è·å–**ï¼šé€šè¿‡ Mtop æ¥å£å®‰å…¨è·å– IM ç™»å½• Token
- **WebSocket ç®¡ç†**ï¼šå†…ç½® `WsClient`ï¼Œæ”¯æŒè‡ªåŠ¨é‡è¿ã€å¿ƒè·³ä¿æ´»ã€æ¶ˆæ¯é˜Ÿåˆ—
- **ä¼šè¯åˆ—è¡¨**ï¼šåŸºäº `/r/Conversation/listNewestPagination` è·å–æœ€æ–°ä¼šè¯åˆ—è¡¨
- **æ¶ˆæ¯æ”¶å‘**ï¼šæ”¯æŒæŒ‰æ¥æ”¶è€…èŒƒå›´å‘é€æ¶ˆæ¯ã€å¿«æ·å‘é€æ–‡æœ¬æ¶ˆæ¯
- **æ¶ˆæ¯è§£ç ä¸æ ¼å¼åŒ–**ï¼šå†…ç½® MsgPack è§£ç ä¸ç»“æ„åŒ–æ ¼å¼åŒ–ï¼Œç›´æ¥æ‹¿åˆ°å¯ç”¨çš„æ¶ˆæ¯ç»“æ„

### ğŸ”§ é«˜çº§æ‰©å±•

- **è‡ªå®šä¹‰å®¢æˆ·ç«¯**ï¼šæ‰©å±• HTTP å®¢æˆ·ç«¯åŠŸèƒ½
- **æ‹¦æˆªå™¨æ”¯æŒ**ï¼šè¯·æ±‚/å“åº”æ‹¦æˆªå’Œå¤„ç†
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡æœç´¢å’Œæ•°æ®å¤„ç†
- **æ€§èƒ½ç›‘æ§**ï¼šå†…ç½®æ€§èƒ½åˆ†æå’Œç›‘æ§å·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### 1. åŸºç¡€å®‰è£…

```bash
npm install goofish-client
```

### 2. è·å–è®¤è¯ä¿¡æ¯

é€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹å¼è·å–è®¤è¯ï¼š

```typescript
import { Goofish, LogLevel } from "goofish-client";

// æ–¹å¼1: ä½¿ç”¨å·²æœ‰Cookie
const client = new Goofish({
  cookie: "your_existing_cookie",
});

// æ–¹å¼2: äºŒç»´ç ç™»å½•
const client = new Goofish({});
const loginResult = await client.api.passport.qr.generate();
// æ‰«æäºŒç»´ç åè·å–Cookie...
```

### 3. å¼€å§‹ä½¿ç”¨

```typescript
// è·å–é¦–é¡µæ¨è
const feedData = await client.api.mtop.home.getFeed({
  pageSize: 30,
  pageNumber: 1,
});

// æœç´¢å•†å“
const products = await client.api.mtop.search.search({
  keyword: "MacBook Pro",
  filter: {
    priceRange: { from: 5000, to: 15000 },
  },
});

// è·å–å•†å“è¯¦æƒ…
const itemDetail = await client.api.mtop.item.getDetail({
  itemId: "95xxxxxxxxx334",
});

// è·å–ç”¨æˆ·ä¿¡æ¯
const userInfo = await client.api.mtop.user.getUserNav();

// è·å–æ”¶è—å•†å“
const favorItems = await client.api.mtop.favor.getAllFavorItems();

// ï¼ˆå¯é€‰ï¼‰åˆå§‹åŒ– IMï¼šè·å– Tokenã€è¿æ¥ WebSocket å¹¶æ³¨å†Œ
const tokenRes = await client.api.mtop.im.getLoginToken();
await client.wsClientIm.connect();
await client.api.im.auth.register({ token: tokenRes.data.accessToken });

// ç›‘å¬æ ¼å¼åŒ–åçš„æ¶ˆæ¯
client.api.im.message.onFormattedMessage((msg) => {
  console.log("æ”¶åˆ° IM æ¶ˆæ¯:", msg);
});
```

## ğŸ“– å­¦ä¹ èµ„æº

:::tip

<div class="links-grid">

[ğŸš€ **å¿«é€Ÿå¼€å§‹** - 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—](/guide/getting-started)

[ğŸ“š **API æ–‡æ¡£** - å®Œæ•´çš„æ¥å£å‚è€ƒæ–‡æ¡£](/api/home)

[ğŸ’¡ **ä½¿ç”¨ç¤ºä¾‹** - å®é™…åº”ç”¨åœºæ™¯æ¼”ç¤º](/examples/home)

</div>
:::

## ğŸ¤ åŠ å…¥ç¤¾åŒº

- **[é—®é¢˜åé¦ˆ](https://github.com/11273/goofish-client/issues)** - æŠ¥å‘Š Bug å’ŒåŠŸèƒ½å»ºè®®
- **[ç¤¾åŒºè®¨è®º](https://github.com/11273/goofish-client/discussions)** - æŠ€æœ¯äº¤æµå’Œç»éªŒåˆ†äº«
- **[ç¤ºä¾‹ä»£ç ](https://github.com/11273/goofish-client/tree/main/examples)** - å®Œæ•´çš„é¡¹ç›®ç¤ºä¾‹

:::warning é‡è¦å£°æ˜
æœ¬ Client ä¸ºç¬¬ä¸‰æ–¹å¼€å‘å·¥å…·ï¼Œä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ã€‚ä½¿ç”¨å‰è¯·ç¡®ä¿éµå®ˆç›¸å…³å¹³å°çš„æœåŠ¡æ¡æ¬¾ã€‚

TypeScript ç±»å‹å®šä¹‰ä¸»è¦è¦†ç›–æˆåŠŸå“åº”åœºæ™¯ï¼Œé”™è¯¯å¤„ç†è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚
:::

---

<div class="footer-info">
  <p>
    é‡‡ç”¨ <a href="https://github.com/11273/goofish-client/blob/main/LICENSE" target="_blank">GPL-3.0</a> è®¸å¯è¯ Â·
    <a href="https://github.com/11273/goofish-client" target="_blank">GitHub</a> Â·
    <a href="https://github.com/11273/goofish-client/blob/main/CHANGELOG.md">æ›´æ–°æ—¥å¿—</a> Â·
    <a href="./guide/contributing">è´¡çŒ®æŒ‡å—</a>
  </p>
</div>

<style>
.links-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.5rem;
  margin: 0.5rem 0;
}

.links-grid a {
  text-decoration: none;
  transition: opacity 0.2s;
}

.links-grid a:hover {
  opacity: 0.8;
}

.footer-info {
  text-align: center;
  margin-top: 3rem;
  padding-top: 2rem;
  font-size: 0.9rem;
  color: var(--vp-c-text-2);
}

.footer-info a {
  color: var(--vp-c-brand);
}
</style>
